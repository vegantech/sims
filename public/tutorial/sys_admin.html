<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html >
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="robots" content="noarchive,noindex>" />
<base target="_top">
<title>District Administration And Setting up a District</title>
</head>
<body>
  <div id="doc-contents">
    <ul>
      <li> <a href ="#intro">Introduction</a></li>
      <li> <a href ="#getting_started">Getting Started</a></li>
      <li> <a href ="#dist_admin_screens">District Administration Screens</a></li>
      <li> <a href ="#troubleshooting">Troubleshooting</a></li>
    </ul>

    <h1 id="introduction">Introduction </h1>
    <h2>Intro to this module</h2>
    <p>
    This module will go over the duties of a district admin, show where to find additional information, 
    help you get started setting up your district, and show the different screens available to a district administrator.
    </p>

    <h2>Functions of a district administrator</h2>
    <p>
  A district admin or LSA is in charge of setting up a district for use in SIMS.
  </p>
  Responsibilities:
  <ul>
    <li>Manages creation and removal of schools </li>
    <li>Manages creation and removal of students</li>
    <li>Manages creation and removal of users</li>
    <li>Assigns school administrators to schools</li>
    <li>Manages some district settings</li>
    <li>Defines the flag descriptions</li>
    <li>Imports student data into SIMS.  (See the scripted module for an alternative)</li>
    <li>Exports data from SIMS to files. (See the scripted module for an alternative)</li>

  </ul>

  <h2> Where to get help </h2>

  <img src="district_admin/dist_admin_main.png">
  Documentation link in menu. <br />
    
  <a href ="http://groups.google.com/group/sims-lsa">Local System Administrator User Group</a>(SIMS-LSA google group) <br />

  email SIMS support (if you have signed up for it)   *process for that? email tammy?* <br />

  *Other documentation* <br />




    <h1 id="getting_started"> Getting Started </h1>
    <p>
    It is easiest to setup users with access to all students in the district.   
    You may wish to start with a small group of users, schools, and students using this level of access control. </p>

    <p>After that, you can assign users to all students in a particular school.</p>

    <p> After that, you can designate a school admin and have them setup groups and assign users and students to those groups.  
    (See the school admin module for more information.)
    </p>


    <ol>
      <img src="district_admin/dist_admin_main.png">
      <li>
      DPI instructs the state admin setup your district. <br />
      State admin will provide District Administrator with a user and password for the district admin and your URL.

       </li>
       
      <img src="district_admin/edit_district.png">
      <li>
      Edit the logo, district hash key (if it will be used), and abbreviation <br />
 Login with your district_admin user and password, go to edit your district and make the appropriate changes.

 The following steps can be done manually or using data generated by the district. <br />
 For unattended automated jobs (such as scheduled batch processes, the district <br />
 should create a user with username of district_upload.

 </li>
      <img src="district_admin/schools_list.png">
      <img src="district_admin/edit_school.png">
      <li>
      Add schools for your district.  <br />
      To do this manually select Add/Remove Schools from the menu at the left. <br />
      You may have the schools already entered for you, if not, add each one using the New School <br />
      link and fill out the forms. If you are going do do any batch uploads, assign the id_districts <br />
      for each school. (This is usually the primary key in your Student Information System.) <br /> <br />

 For scripted installation populate the schools.csv file.

 </li>
      <img src="district_admin/user_list.png">
      <img src="district_admin/edit_user.png">
      <li>
      Add users <br >
 To do this manually select Add/Remove Users from the menu at the left. This is also where you can change passwords.  Add each one using the New User link and fill out the forms. If you are going do do any batch uploads, assign the id_districts for each user. (This is usually the primary key in your Student Information System.) You can also assign users to schools, assign roles, and assign special groups (everyone in district, everyone in a school.)  School admins are also assigned here. Most features of SIMS require the "regular_user" role.
 For scripted installation populate the users.csv file. 

 </li>
      <li>
      Designate school admins <br />
 See #4 Make sure they have the school_admin role and are selected as an admin in the school assignment.

 </li>
      <li>
      Designate content admins <br />
 Give users the content_admin role.

 For scripted installation populate content_admins.csv with the primary keys of the users who should have this role.

 </li>
      <img src="district_admin/student_list.png">
      <img src="district_admin/edit_student.png">
      <li>
      Add students <br />
 To do this manually select Add/Remove Students from the menu at the left. You can assign enrollments, system flags, and the extended profile here as well.

 For scripted installation populate the students.csv
 
 </li>
      <li>
      Add enrollments <br >
 This is done on the add/edit student screen. Add an enrollment and choose the school and grade.

 For scripted installation populate the enrollments.csv

 </li>
      <li>
      Add user school assignments <br />
 This is similar to #5. For a user to access a school, they need all_students_in_district access, all_schools or an assignment to a school.
 
 For scripted installation populate the user_school_assignments.csv, all_schools.csv, all_students_in_district.csv If you wish to designate users that are assigned to a particular school, you can also populate the staff_assignments.csv If this is present, then certain dropdowns (like intervention participants) will be limited to staff assigned to the school instead of everyone that has access to that school (useful in larger districts.)

 </li>
 <p>Steps 10-12 are performed by the school administrator.  See the school admin documentation for more information.  You may be interested in the csv files referenced here. </p>
      <li>
      Add groups (School Admin) <br />
 After selecting a school you access this via the Manage Groups link.
 Groups are basically sections, but could also be neighborhoods or any collections of students. Make sure they get assigned an id_district if you're going to do batch uploads. 
 
 For scripted installation populate the groups.csv

 </li>
      <li>
      Add student group assignments (School Admin) <br />
 This is done via the user_and_student assignment link for each group.

 For scripted installation populate the student_groups.csv

 </li>
      <li>
      Add user group assignments (School Admin) <br />
  This is done via the user_and_student assignment link for each group. Principals are designated here. You can designate a principal for the entire school, a specific grade, or a smaller group.
  For scripted installation populate the user_groups.csv, and all_students_in_school.csv

 </li>
      <li>
      Add system flags (and add flag descriptions.) <br />
 When editing or creating a student you can add flags there.  You will need to determine how and why you wish to flag students and then generate a list of students and their reason for being flagged.  

The flag descriptions menu allows you to enter content that will appear in the legend.

 For scripted installation populate the system_flags.csv
 </li>
 

      <li>
      Create extended profiles <br />
 When editing a student you can create an html snippet (basically content within a div tag) and upload it. 

 For scripted installation populate the ext_arbitraries.csv, ext_siblings.csv, ext_summaries.csv, and ext_test_scores.csv

 </li>
 </ol>

<h1 id ="dist_admin_screens">District Administration Screens</h1>
<p>This section demonstates theI still need to fill in the content here.</p>
<h2>District Settings</h2>
<img src="district_admin/edit_district.png">
<pre>
   Restrict tiers - Interventions are grouped into tiers (usually by intensity.)  If this box is checked, then only 
   the first tier of interventions will be available for a student.   Higher tiers can be unlocked by completing a Recommendation,
   or requesting a principal override.

   Lock Free/Reduced Lunch - If checked, the lunch status is hidden from the extended profile. (Principals still see it.)
   
   Key- This key is used for encrypting the passwords if you're uploading them (and by the system).  
   It's also a shared default password that users can use if they have an email address listed, but a blank password assigned.
   (See the first module for more detail on this.)

   Note- changing your key more than twice could lock users out of the system.   If you need to do this, the system will prevent you.
   You'll need to contact SIMS support to get this unlocked (and potentially reset passwords of users.)

   Logo- This appears in the upper left corner of the screen. It should be 200 pixels wide, and 40 pixels tall.

   Abbrev- This is the subdomain for your district.  In this case it's training, so the SIMS site for the district 
   woudl be  https://training.simspilot.org
</pre>

<h2>Schools</h2>
<img src="district_admin/schools_list.png">
<p>This is a list of schools available to your district in SIMS.  You need to have the district_student_id assigned if you 
want to upload any CSV files.  This field allows SIMS to map the data from your Student Information System.  </p>


<img src="district_admin/edit_school.png">
<p>This is the screen for creating and editing a school.  The SIS primary Key is the district_student_id.   
You can also set the name of the school here. <p>

<p>Users assigned to this school are presented here, you can add and remove them and choose to designate them as a school admin. 
See the School Administration module for more information about the duties of a school admin.
User to school assignment is also available on the User management screen.
</p>

<h2>Users</h2>
<img src="district_admin/user_list.png">
<p>This is the list of users in your district in SIMS.  You can filter the list by last name.  </p>

<img src="district_admin/edit_user.png">
<p>This screen is for creating and editing users.   The username and password are for logging in.  The password must be entered twice.    If you have a 
district key defined, and an email assigned then you can opt to leave the password blank.  (See the default password in the intro module for more information.)
</p>
<p>The primary key field is what maps this user to your student information system export.</p>


<h3>Roles</h3>
<p>Roles allow users to access different areas of SIMS.</p>
<pre>
District Admin- The sections in this document.  You can assign other district admins.  If you remove this role
from your account, then you will no longer be able to access these screens.

School Admin- Gives access to school admin menu, the user must also be designated as an admin for a school.  
See the school admin module for more information.
News Admin- Create and Edit news for the district.  (See following setion.
Country Admin- Not used
State Admin- Not used
Regular User- Most users should have this, core functionality of SIMS.
Content Admin- Sets up tiers, intervention definitions, progress monitors, and the checklist.
</pre>
<h3>School Assignments</h3>
<p>The all students in district provides access to all students and schools if checked.</p>

<p>You can assign schools to a user here.  Clicking the Add a school assignment link will 
let you choose a school and designate if the user is a school admin and has access
to all students in the school.</p>

<h2>News Admin</h2>
<p>I think this would be a good place for the news admin slide that was at the end of the school admin section.</o>


<h2>Students</h2>
<img src="district_admin/student_list.png">
<p>Here you can add students, edit them, or remove them from the district.    </p>

<img src="district_admin/edit_student.png">


<h2>Flag Descriptions</h2>
<img src="district_admin/flag_descriptions.png">

<p>This allows you to update the flag legend (at the bottom left) for your district.   It's simply text
that is displayed.  See the students page for manually setting system flags, or the scripted module for 
generating them in your district (system_flags.csv).</p>
<p> Note- The thresholds and documents for the core practice reminder on the student search screen are defined by the content admin.</p>

<h2>Logs</h2>
<img src="district_admin/district_logs.png">
<p>Currently this tracks successful and failed logins for your district.   When a user inputs an invalid username or password it 
will show the username they entered.   Additional items may be added to the log in the future.</p>

<h2>Import to CSV</h2>
<img src="district_admin/import1.png">
<p>On this screen you can upload csv files of student data into SIMS.  You'll see a progress bar while the file is uploading,
then the results of the upload will be presented.  See the scripted module for more information.</p>

<h2>Export to CSV</h2>
<img src="district_admin/dist_admin_main.png">
<p>Cliking on the Export to CSV link in the menu will create and download file called sims_export.zip containing 
the content of SIMS for your district.  See the scripted module for more information.</p>

 <h1 id="troubleshooting">Troubleshooting</h1>
 <pre>
Troubleshooting
  Password not working
    Check the district logs to make sure they're using the correct username.
    Reset the password by editing the user.

  No Choose School in menu.
    Make sure the user has the regular_user role assigned.

  No Schools available
    Make sure the user has schools assigned, or has access to all students in the district.

  No students available at this school
   If the user does not have access to all students in the district, 
then the school admin needs to add them to a group.  (Or you can upload the group related csv files)

  *Contact Tammy for more Q&A that we'd like to see included.  Also update this based on feedback 
from monthly sessions*


 </pre>
 <hr />
 
 <h1>This will get moved to another page</h1>
<h3>Semiautomated and Unattended batch updates
</h3>
<pre>
First generate the appropriate CSV files for each section. We will provide some documentation about how 
to do this for some of the more popular Student Information Systems. The file names must match the ones 
in the list and the headers (and contents) must also match. It is recommended that you zip the files 
together before doing the upload.

The process for generating the CSV's will be the same for either option chosen. Note that each file 
represents all the data for your district. So if you try to upload half your students in one file, 
then upload the rest in another file, the second file will overwrite the data in the first. 

id_district is the primary key in your student information system. You may have to assign your own 
numbers, just make sure they are unique, persistent, and consistent.


For semiautomated upload, log in as a district admin and click on import_csv in the menu 
at the left. You can then upload your file.

For unattended uploads, setup a scheduled job (for example using cron) to generate the CSV 
files, zip them, and then finish with the following command:

curl --user district_upload:your_password https://district_abbrev.simspilot.org/scripted/district_upload -Fupload_file =@yourzip.zip -k

Replace the district_abbrev with what you saw in step 2, and the password with the password you assigned to 
the district_upload user. A confirmation email will be sent to the email address assigned to district_upload.

curl is a tool for interacting with web pages from the command line, feel free to use another tool if you 
like (as long as it can do https.)

</pre>
<h3>Unattended Export

</h3>
<pre>This is similar to the unattended batch updates above. Setup a user called district_export

curl -o sims_export.zip --user district_export:your_password https://district_abbrev.simspilot.org/scripted/district_export -k

The sims_export.zip will contain several csv files that you could import into excel, or into a database.
</pre>
<h3>Functions of School Adminstratior</h3>
<pre>
Manually creates and assigns groups
Manages school teams
Manages quicklist for school
</pre>

<h3>Functions of District Administrator</h3>
<pre>
User management (resets passwords, initial creation, etc.)
Steps 3-14 above in getting started section
Generates CSV files for district using SQL or other tool available in
 the Student Information System (or delegates this.)
Creates Flag Descriptions
</pre>


<h3>Functions of Content Administrator</h3>
Creates/edits Checklists, Progress Monitors, Intervention Definitions, Tiers,  core practice documents

  <br clear="all"/>
</div>
</body>
</html>
